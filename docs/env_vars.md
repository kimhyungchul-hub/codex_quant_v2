# Environment variables used in this repository

This file was generated automatically from a repository scan of `_env_float/_env_int/_env_bool` and `os.environ.get` usages.

Note: Core runtime defaults have been centralized into `config.py`. For most settings you should now edit `config.py` (or set environment variables) — `config.py` contains explicit grouped defaults for `MC_`, `RISK_`, `KELLY_`, `PAPER_`, `EVPH_`, and related keys.

Purpose:
- Provide a single place to review environment variable keys used across the project.
- This document is informational — changing it will NOT change runtime behavior. To change values, edit `.env`, `state/bybit.env`, or set environment variables in your shell/CI.

How to change a runtime parameter:

- Temporary (current shell):
```
export ENTRY_MIN_EV=0.001
```
- Persistent for the repo (recommended for developer config):
```
# at repo root
echo 'ENTRY_MIN_EV=0.001' >> .env
```
- Override for operations or testing:
```
mkdir -p state
echo 'ENTRY_MIN_EV=0.001' > state/bybit.env
```

Notes:
- Many keys are module-specific and currently read directly via `os.environ.get(...)` or `_env_*()` in their modules. Centralization (having modules import values from `config.py`) is a recommended next step to make runtime configuration auditable and testable.
- This list includes some environment variables from system packages discovered during the scan (e.g., `PYTEST_*`, `NUMPY_*`). Focus on keys prefixed with project-specific names such as `MC_`, `PAPER_`, `PMAKER_`, `EVPH_`, `POLICY_`, `KELLY_`, `PAPER_`, `NAPV_`, etc.

Research runner toggles:
- `ALWAYS_RUN_CF` (default: `0`): `1/true/on`이면 새 거래가 없어도 `research/runner.py`가 CF 37개 스테이지를 매 사이클 강제 실행합니다.

---

Generated list (unique keys found):

```
_ARGCOMPLETE
_PIP_IN_BUILD_IGNORE_CONSTRAINTS
_PYPROJECT_HOOKS_BACKEND_PATH
AIOHTTP_NO_EXTENSIONS
AIOHTTP_NOSENDFILE
ALPHA_ENABLE
ALPHA_HIT_BATCH_SIZE
ALPHA_HIT_BETA
ALPHA_HIT_DATA_HALF_LIFE_SEC
ALPHA_HIT_DEVICE
ALPHA_HIT_ENABLE
ALPHA_HIT_FALLBACK
ALPHA_HIT_LR
ALPHA_HIT_MAX_BUFFER
ALPHA_HIT_MAX_LOSS
ALPHA_HIT_MIN_BUFFER
ALPHA_HIT_MODEL_PATH
ALPHA_HIT_STEPS_PER_TICK
ALPHA_SCALING_FACTOR
APPVEYOR
BATCH_EXIT_POLICY_ENABLED
BYBIT_API_KEY
BYBIT_API_SECRET
BYBIT_TESTNET
CCXT_SANDBOX
CFLAGS
COMP_CWORD
COMP_WORDS
COOLDOWN_SEC
CPPFLAGS
CUDA_ROOT
CURL_CA_BUNDLE
DASHBOARD_INCLUDE_DETAILS
DATA_BYBIT_TESTNET
DEBUG_MU_SIGMA
DEBUG_ROW
DEBUG_TPSL_META
DECISION_EVAL_MIN_INTERVAL_SEC
DECISION_LOG_EVERY
DECISION_MAX_INFLIGHT
DECISION_MIN_CANDLES
DECISION_REFRESH_SEC
DECISION_WORKER_SLEEP_SEC
DEFAULT_LEVERAGE
DEFAULT_SIZE_FRAC
DEFAULT_SL_PCT
DEFAULT_TP_PCT
ENABLE_LIVE_ORDERS
ENSUREPIP_OPTIONS
ENTRY_CVAR_FLOOR
ENTRY_HORIZON_FILTER_ANY
ENTRY_HORIZON_FILTER_ENABLE
ENTRY_HORIZON_FILTER_RATIO
ENTRY_MIN_EV
ENTRY_MIN_SCORE
EV_COST_MULT_GATE
EV_ENTRY_THRESHOLD
EV_EXIT_FLOOR_BEAR
EV_EXIT_FLOOR_BULL
EV_EXIT_FLOOR_CHOP
EV_EXIT_FLOOR_VOLATILE
EV_EXIT_POLICY_ABS_CAP
EVPH_B1_COV_RIDGE
EVPH_B1_DT_SEC
EVPH_B1_ENABLE
EVPH_B1_JOINT_N
EVPH_B1_MAX_STEPS
EVPH_B1_MIN_T
EVPH_B1_N_PATHS
EVPH_B1_WINDOW
EVPH_HISTORY_PATH
EVPH_MAXLEN
EVPH_SAVE_EVERY_SEC
EXEC_MODE
EXIT_EARLY_DELTA_SEC
EXIT_EARLY_PENALTY_K
EXIT_MODE
EXPOSURE_CAP_ENABLED
FORCE_COLOR
FROZENLIST_NO_EXTENSIONS
FUNNEL_CVAR_FLOOR_BEAR
FUNNEL_CVAR_FLOOR_BULL
FUNNEL_CVAR_FLOOR_CHOP
FUNNEL_CVAR_FLOOR_VOLATILE
FUNNEL_EVENT_CVAR_FLOOR_BEAR
FUNNEL_EVENT_CVAR_FLOOR_BULL
FUNNEL_EVENT_CVAR_FLOOR_CHOP
FUNNEL_EVENT_CVAR_FLOOR_VOLATILE
FUNNEL_NAPV_THRESHOLD
FUNNEL_USE_NAPV_FILTER
FUNNEL_USE_WINRATE_FILTER
FUNNEL_WIN_FLOOR_BEAR
FUNNEL_WIN_FLOOR_BULL
FUNNEL_WIN_FLOOR_CHOP
FUNNEL_WIN_FLOOR_VOLATILE
HARD_STOP_LOSS_FRAC
HARD_STOP_LOSS_PRICE_FRAC
HARD_STOP_LOSS_ROE_FRAC
HURST_RANDOM_DAMPEN
HURST_TREND_BOOST
JAX_COMPILATION_CACHE_DIR
JAX_GIT_HASH
JAX_MC_DEVICE
JAX_OUTPUT_LIMITATIONS_DOC
JAX_PLATFORM_NAME
JAX_PLATFORMS
K_LEV
KELLY_BOOST_ENABLED
KELLY_COV_ESTIMATOR
KELLY_COV_LOOKBACK
KELLY_CVAR_PENALTY_K
KELLY_FRACTION_CAP
KELLY_FRACTION_SCALE
KELLY_HALF
KELLY_LEVERAGE_BOOST
KELLY_PORTFOLIO_ENABLE
KELLY_PORTFOLIO_LEVERAGE_BASE
KELLY_PORTFOLIO_TOPK
LIBTPU_INIT_ARGS
LIVE_CLOSE_NOTE_TTL_MS
LIVE_LEVERAGE_MIN_INTERVAL_MS
LIVE_LIQUIDATE_LIMIT_PAD_BPS
LIVE_LIQUIDATE_MAX_BOOK_DEVIATION_BPS
LIVE_LIQUIDATE_MAX_ROUNDS
LIVE_LIQUIDATE_ORDERBOOK_DEPTH
LIVE_LIQUIDATE_ROUND_SLEEP_MS
LIVE_MARGIN_RESERVE_MS
LIVE_MAX_MARGIN_FRAC
LIVE_OPEN_ORDER_CLEANUP
LIVE_OPEN_ORDER_CLEANUP_INTERVAL_MS
LIVE_OPEN_ORDER_CLEANUP_MAX_CANCEL
LIVE_OPEN_ORDER_STALE_MS
LIVE_ORDER_PENDING_MS
LIVE_ROTATION_ATTEMPT_DT_MS
LIVE_ROTATION_EXPIRE_MS
LIVE_SYNC_ENABLED
LIVE_SYNC_INCLUDE_OUTSIDE_UNIVERSE
LIVE_SYNC_INTERVAL_MS
LIVE_SYNC_SLEEP_SEC
LOG_LIVE_SYNC_WARN_INTERVAL_SEC
LOG_STDOUT
MAKER_POLL_MS
MAKER_RETRIES
MAKER_TIMEOUT_MS
MANUAL_PAUSE_AFTER_LIQUIDATE_MS
MAX_CONCURRENT_POSITIONS
MAX_LEVERAGE
MAX_NOTIONAL_EXPOSURE
MAX_POSITION_HOLD_SEC
MAX_POSITION_SIZE_CAP
MAX_TOTAL_LEVERAGE
MC_HORIZON_MAX_SEC
MC_HORIZON_MIN_SEC
MC_HORIZON_STEP_SEC
MC_HORIZONS_SEC
MC_N_BOOT
MC_N_PATHS_EXIT
MC_N_PATHS_LIVE
MC_SL_BASE_ROE
MC_STUDENT_T_DF
MC_TAIL_MODE
MC_TIME_STEP_SEC
MC_TP_BASE_ROE
MC_TPSL_AUTOSCALE
MC_TPSL_H_SCALE_BASE
MC_TPSL_SIGMA_MAX_SCALE
MC_TPSL_SIGMA_MIN_SCALE
MC_TPSL_SIGMA_REF
MC_USE_JAX
MC_VERBOSE_PRINT
MC_WARMUP_MODE
MC_WARMUP_SYMBOLS
MIN_EV_FOR_VALID
MSGPACK_PUREPYTHON
MU_ALPHA_CAP
MU_ALPHA_CHOP_WINDOW_BARS
MU_ALPHA_EMA_ALPHA
MU_ALPHA_FLOOR
MU_ALPHA_SCALE_MIN
MU_ALPHA_VOL_LONG_BARS
MU_ALPHA_VOL_SHORT_BARS
MU_ALPHA_W_MOM_BASE
MU_ALPHA_W_MOM_MAX
MU_ALPHA_W_MOM_MIN
MU_MOM_ANN_CAP
MU_MOM_LR_CAP
MU_MOM_TAU_FLOOR_SEC
MU_OFI_SCALE
MULTIDICT_NO_EXTENSIONS
NAPV_RHO_PER_SEC
NETRC
NO_COLOR
NPY_NUM_BUILD_JOBS
NPY_PROMOTION_STATE
NUMPY_MADVISE_HUGEPAGE
NUMPY_TYPING_TEST_CLEAR_CACHE
OHLCV_PRELOAD_LIMIT
OHLCV_SLEEP_SEC
ORDERBOOK_SLEEP_SEC
ORDERBOOK_SYMBOL_INTERVAL_SEC
P_MAKER_FIXED
PAPER_ECONOMIC_BRAIN
PAPER_ECONOMIC_SWITCH_BUFFER
PAPER_ENGINE_SIZE_MAX_FRAC
PAPER_ENGINE_SIZE_MIN_FRAC
PAPER_ENGINE_SIZE_MULT
PAPER_EXIT_POLICY_BREAKEVEN_ENABLED
PAPER_EXIT_POLICY_DD_STOP_ENABLED
PAPER_EXIT_POLICY_DD_STOP_ROE
PAPER_EXIT_POLICY_DECISION_DT_SEC
PAPER_EXIT_POLICY_DT_SKIP_ENABLED
PAPER_EXIT_POLICY_FLIP_CONFIRM_TICKS
PAPER_EXIT_POLICY_HOLD_BAD_TICKS
PAPER_EXIT_POLICY_HORIZON_SEC
PAPER_EXIT_POLICY_MIN_HOLD_SEC
PAPER_EXIT_POLICY_ONLY
PAPER_EXIT_POLICY_P_POS_ENTER_FLOOR
PAPER_EXIT_POLICY_P_POS_HOLD_FLOOR
PAPER_EXIT_POLICY_SCORE_MARGIN
PAPER_EXIT_POLICY_SCORE_TRAILING_ENABLED
PAPER_EXIT_POLICY_SOFT_FLOOR
PAPER_EXIT_POLICY_TRAILING_ENABLED
PAPER_FEE_ROUNDTRIP
PAPER_FLAT_ON_WAIT
PAPER_LEVERAGE
PAPER_MAX_HOLD_SEC
PAPER_MAX_POSITIONS
PAPER_MIN_HOLD_SEC
PAPER_REBALANCE_FEE_MULT
PAPER_REBALANCE_INTERVAL_MS
PAPER_REBALANCE_MIN_CAP_DIFF
PAPER_REBALANCE_MIN_NOTIONAL_FRAC
PAPER_RF_PER_SEC
PAPER_SIZE_FRAC
PAPER_SIZE_FRAC_CAP
PAPER_SLIPPAGE_BPS
PAPER_TRADING
PAPER_USE_ENGINE_SIZING
PATH
PATHEXT
PIP_BUILD_TRACKER
PIP_CONFIG_FILE
PIP_CONSTRAINT
PIP_EXISTS_ACTION
PIP_NO_INPUT
PIP_USER_AGENT_USER_DATA
PMAKER_BATCH
PMAKER_DELAY_PENALTY_K
PMAKER_DEVICE
PMAKER_ENABLE
PMAKER_GRID_MS
PMAKER_LR
PMAKER_MAX_MS
PMAKER_MODEL_PATH
PMAKER_MU_ALPHA_BOOST_ENABLED
PMAKER_MU_ALPHA_BOOST_K
PMAKER_PAPER_ENABLE
PMAKER_PAPER_PROBE_INTERVAL_SEC
PMAKER_PAPER_PROBE_TIMEOUT_MS
PMAKER_PAPER_SAVE_EVERY_SEC
PMAKER_PAPER_TRAIN_EVERY_N
PMAKER_PROB
PMAKER_TRAIN_STEPS
POLICY_CVAR_EPS
POLICY_DD_STOP_ROE
POLICY_ENABLE_DD_STOP
POLICY_ENTRY_REASON_FACTOR
POLICY_LAMBDA_VAR
POLICY_LOCAL_CONSENSUS_ALPHA
POLICY_LOCAL_CONSENSUS_BASE_H
POLICY_MAX_DD_ABS
POLICY_MAX_P_LIQ
POLICY_MIN_EV_GAP
POLICY_MIN_HOLD_FRAC
POLICY_MIN_PROFIT_COST
POLICY_NEIGHBOR_BONUS_CAP
POLICY_NEIGHBOR_BONUS_W
POLICY_NEIGHBOR_OPPOSE_VETO_ABS
POLICY_NEIGHBOR_PENALTY_CAP
POLICY_NEIGHBOR_PENALTY_W
POLICY_OBJECTIVE_MODE
POLICY_REASON_SIM_MIN
POLICY_SCORE_FLIP_MARGIN
POLICY_SCORE_TRAILING_FACTOR
POLICY_SURVIVE_MIN_COUNT
POLICY_SURVIVE_MIN_RATE
POLICY_USE_FULL_HORIZONS
POLICY_W_EV_BETA
POLICY_W_PRIOR_HALF_LIFE_BASE_SEC
PORTFOLIO_BATCH_SIZE
PORTFOLIO_BLOCK_SIZE
PORTFOLIO_DAYS
PORTFOLIO_DRIFT_K
PORTFOLIO_INDIVIDUAL_CAP
PORTFOLIO_JOINT_SIM_ENABLED
PORTFOLIO_P_JUMP_IDIO
PORTFOLIO_P_JUMP_MARKET
PORTFOLIO_RISK_AVERSION
PORTFOLIO_SCORE_CLIP
PORTFOLIO_SIMULATIONS
PORTFOLIO_TARGET_LEVERAGE
PORTFOLIO_TILT_STRENGTH
PORTFOLIO_USE_JUMPS
PORTFOLIO_VAR_ALPHA
POSITION_CAP_ENABLED
POSITION_HOLD_HARD_CAP_SEC
POSITION_HOLD_MIN_SEC
PRELOAD_ON_START
PROCESSOR_ARCHITEW6432
PROPCACHE_NO_EXTENSIONS
PY_COLORS
PY_IGNORE_IMPORTMISMATCH
PYTEST_ADDOPTS
PYTEST_DEBUG
PYTEST_DEBUG_TEMPROOT
PYTEST_DISABLE_PLUGIN_AUTOLOAD
PYTEST_PLUGINS
PYTEST_VERSION
PYTHONASYNCIODEBUG
REBALANCE_TARGET_EMA_ALPHA
REBALANCE_TARGETS_INTERVAL_MS
REQUESTS_CA_BUNDLE
SCIPY_ARRAY_API
SCIPY_DEVICE
SCIPY_HYPOTHESIS_PROFILE
SCORE_ENTRY_FLOOR
SCORE_ENTRY_MIN_SIZE
SCORE_ENTRY_THRESHOLD
SCORE_EXIT_MIN_HOLD_SEC
SCORE_EXIT_THRESHOLD
SCORE_EXTEND_MULT
SCORE_ONLY_MODE
SCORE_TIME_DECAY_K
SCORE_TP_ENTRY_GATE_MULT
SCORE_TP_ENTRY_HARD
SCORE_TP_ENTRY_HORIZON_SEC
SCORE_TP_ENTRY_MIN
SCORE_TP_FLOOR
SCORE_TP_POWER
SCORE_TP_WEIGHT
SIGMA_LR_CAP
SL_R_FIXED
SLIPPAGE_CAP
SLIPPAGE_MULT
SOURCE_DATE_EPOCH
SPREAD_ENTRY_MAX
SPREAD_PCT_MAX
SSLKEYLOGFILE
STARKNET_PY_MARSHMALLOW_UKNOWN_EXCLUDE
SYMBOLS_CSV
TERM
TEST_UNDECLARED_OUTPUTS_DIR
TICKER_SLEEP_SEC
TOPK_SURVIVE_ENABLED
TOPK_SURVIVE_MIN_P
TOPK_SURVIVE_NOISE_MULT
TOPK_SURVIVE_SIGMA_FLOOR_EVPH
TPU_WORKER_HOSTNAMES
TRAIL_ATR_MULT
UNIXCONFDIR
UNIXUSRLIBDIR
USE_CLEAN_EVALUATOR
USE_GROSS_SCORE
XDG_CACHE_HOME
XDG_CONFIG_DIRS
XDG_CONFIG_HOME
XDG_DATA_DIRS
XDG_DATA_HOME
XDG_RUNTIME_DIR
XDG_STATE_HOME
YARL_NO_EXTENSIONS
```

---

## [2026-02-01] CF 기반 새 필터 변수

| Variable | Default | Description |
|----------|---------|-------------|
| `MU_ALPHA_DIRECTION_GATE` | `1` | mu_alpha 부호 ↔ 매매 방향 정합성 게이트 (1=활성) |
| `MU_ALIGN_MIN_ABS` | `0.01` | mu_alpha 절대값이 이 값 미만이면 게이트 미적용 |
| `TOD_FILTER_ENABLED` | `1` | 시간대 필터 활성화 (1=활성) |
| `TRADING_BAD_HOURS_UTC` | `6,7` | 진입 차단 시간대 (UTC, 쉼표 구분) |
| `REGIME_SIDE_BLOCK_LIST` | `bear_long,bull_short` | 차단할 regime_side 조합 (쉼표 구분, 소문자) |

---

## [2026-02-15] Auto Diagnostics (자기 개선 시스템)

| Variable | Default | Description |
|----------|---------|-------------|
| `AUTO_DIAGNOSTICS_ENABLED` | `1` | 자동 진단 시스템 활성화 (1=활성) |
| `AUTO_DIAG_INTERVAL_SEC` | `3600` | 진단 실행 주기 (초, 기본 1시간) |
| `AUTO_DIAG_LOOKBACK_HOURS` | `4.0` | 분석 대상 거래 lookback 기간 (시간) |

파일: `core/auto_diagnostics.py` → 5가지 진단 모듈 (Direction Accuracy, Regime×Side, Time-of-Day, Sizing/Leverage, Hold Duration)
출력: `state/diagnostics_overrides.json` → `auto_tune_overrides.json`에 merge → hot-reload

---

Next steps recommended:
- Review list and identify keys you want centrally managed.
- I can create a `config_registry.py` or extend `config.py` to expose a dictionary of keys -> default values and optionally auto-generate a `.env.example` from it.
- Optionally, I can refactor modules to import `from config import SETTINGS` (or similar) rather than reading `os.environ` directly.

If you want, I will now:
1) prune this list to repo-specific keys and move defaults into `config.py` (or `engines/mc/config.py` where appropriate), and
2) start refactoring the highest-impact modules to read from `config` instead of `os.environ`.

Which of these would you like me to do next?
